(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[7,8],{47:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.confirmAlert=function(e){document.body.classList.add("react-confirm-alert-body-element"),function(){if(document.getElementById("react-confirm-alert-firm-svg"))return;var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"feGaussianBlur");t.setAttribute("stdDeviation","0.3");var n=document.createElementNS(e,"filter");n.setAttribute("id","gaussian-blur"),n.appendChild(t);var a=document.createElementNS(e,"svg");a.setAttribute("id","react-confirm-alert-firm-svg"),a.setAttribute("class","react-confirm-alert-svg"),a.appendChild(n),document.body.appendChild(a)}(),function(e){var t=document.getElementById("react-confirm-alert");t||(document.body.children[0].classList.add("react-confirm-alert-blur"),(t=document.createElement("div")).id="react-confirm-alert",document.body.appendChild(t)),(0,i.render)(s.default.createElement(f,e),t)}(e)};var l=n(0),s=u(l),c=u(n(8)),i=n(17);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=(o=a=function(e){function t(){var e,n,a;d(this,t);for(var o=arguments.length,r=Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=a=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.handleClickButton=function(e){e.onClick&&e.onClick(),a.close()},a.handleClickOverlay=function(e){var t=a.props,n=t.closeOnClickOutside,o=t.onClickOutside,r=e.target===a.overlay;n&&r&&(o(),a.close())},a.close=function(){var e=a.props.afterClose;h(),b(),p(e)},a.keyboardClose=function(e){var t=a.props,n=t.closeOnEscape,o=t.onKeypressEscape,r=27===e.keyCode;n&&r&&(o(e),a.close())},a.componentDidMount=function(){document.addEventListener("keydown",a.keyboardClose,!1)},a.componentWillUnmount=function(){document.removeEventListener("keydown",a.keyboardClose,!1),a.props.willUnmount()},a.renderCustomUI=function(){var e=a.props,t=e.title,n=e.message,o=e.buttons;return(0,e.customUI)({title:t,message:n,buttons:o,onClose:a.close})},m(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.message,o=t.buttons,r=t.childrenElement,l=t.customUI;return s.default.createElement("div",{className:"react-confirm-alert-overlay",ref:function(t){return e.overlay=t},onClick:this.handleClickOverlay},s.default.createElement("div",{className:"react-confirm-alert"},l?this.renderCustomUI():s.default.createElement("div",{className:"react-confirm-alert-body"},n&&s.default.createElement("h1",null,n),a,r(),s.default.createElement("div",{className:"react-confirm-alert-button-group"},o.map((function(t,n){return s.default.createElement("button",{key:n,onClick:function(){return e.handleClickButton(t)},className:t.className},t.label)}))))))}}]),t}(l.Component),a.propTypes={title:c.default.string,message:c.default.string,buttons:c.default.array.isRequired,childrenElement:c.default.func,customUI:c.default.func,closeOnClickOutside:c.default.bool,closeOnEscape:c.default.bool,willUnmount:c.default.func,afterClose:c.default.func,onClickOutside:c.default.func,onKeypressEscape:c.default.func},a.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},o);function p(e){var t=document.getElementById("react-confirm-alert-firm-svg");t.parentNode.removeChild(t),document.body.children[0].classList.remove("react-confirm-alert-blur"),e()}function b(){var e=document.getElementById("react-confirm-alert");e&&((0,i.unmountComponentAtNode)(e),e.parentNode.removeChild(e))}function h(){document.body.classList.remove("react-confirm-alert-body-element")}t.default=f},48:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(13),o=n(14),r=n(9),l=n(15),s=n(16),c=n(0),i=n.n(c),u=n(5),d=n(47),m=(n(48),n(37)),f=n.n(m),p=Object(c.lazy)((function(){return n.e(6).then(n.bind(null,78))})),b=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GOOGLE_CLIENT_ID:"793997026296-b8g4unrahikivqkm28et683u0vusmcea.apps.googleusercontent.com",REACT_APP_TWITTER_CONSUMER_ID:"rUWTD0DaH3IbZRJyCN4j4xPsH",REACT_APP_TWITTER_CONSUMER_SECRET:"4TQ0mMytPmTiW6UwYHLuWCu7v4t2E2rs80VZSJnJM2cYWuzbSw"}).REACT_APP_BASEURL||"http://localhost:5000",h=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).state={post:{},isLoggedIn:!1,readingTime:0},o.deletePost=o.deletePost.bind(Object(r.a)(o)),o.confirmDelete=o.confirmDelete.bind(Object(r.a)(o)),o}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.post||f.a.get("".concat(b,"/server/posts/").concat(this.props.match.params.id)).then((function(t){if(e.setState({post:t.data}),e.state.post){var n=e.state.post.body.split(" ").length;if(n){var a=Math.floor(n/200);e.setState({readingTime:a})}}document.querySelector(".spinner-border").style.display="none",document.querySelector(".post").style.display="block"})).catch((function(e){return console.error(e)}))}},{key:"componentDidUpdate",value:function(){"true"===sessionStorage.getItem("isLoggedIn")&&this.state.post.author===sessionStorage.getItem("username")&&this.setState((function(e){if(!e.isLoggedIn)return{isLoggedIn:!0}}))}},{key:"confirmDelete",value:function(e){var t=this;Object(d.confirmAlert)({title:"Confirm to delete this post.",message:"Are you sure you want to do this?",buttons:[{label:"YES",onClick:function(){return t.deletePost(e)}},{label:"NO  ",onClick:function(){return console.log("NO! I don't want to delete this magnificant piece of art!")}}]})}},{key:"deletePost",value:function(e){f.a.delete("".concat(b,"/server/posts/").concat(e)).then((function(e){return console.log(e.data)})).catch((function(e){return console.error(e)})),window.location="/posts"}},{key:"render",value:function(){var e=this;if(this.props.post){var t=new Date(this.props.post.date).toDateString(),n=t.substring(4,10),a=t.substring(10),o="".concat(n,",").concat(a);return i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement(u.b,{to:"/posts/"+this.props.post._id},i.a.createElement("h1",{className:"post-title"},this.props.post.title),i.a.createElement("h5",null,i.a.createElement("span",{className:"author"},this.props.post.author)),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.post.body.substring(0,400).trim()+"..."}}),i.a.createElement("small",null,i.a.createElement("time",null,i.a.createElement("div",null,i.a.createElement("span",null,"Published on "),o))),i.a.createElement("br",null))))}var r=new Date(this.state.post.date).toDateString(),l=r.substring(4,10),s=r.substring(10),d="".concat(l,",").concat(s);return i.a.createElement("div",null,i.a.createElement("div",{className:"spinner-container"},i.a.createElement("div",{className:"spinner-border",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))),i.a.createElement("div",{className:"post",style:{display:"none"}},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("h1",{className:"post-title"},this.state.post.title),i.a.createElement("h3",{className:"author"},this.state.post.author),i.a.createElement("time",null,i.a.createElement("div",null,i.a.createElement("span",null,"Published on "),d),i.a.createElement("span",{className:"read-time"},"~ ",this.state.readingTime," min read")),i.a.createElement("div",{className:"post-body",dangerouslySetInnerHTML:{__html:this.state.post.body}}),this.state.isLoggedIn?i.a.createElement("span",null,i.a.createElement(u.b,{to:"/posts/".concat(this.state.post._id,"/edit"),className:"btn btn-outline-primary"},"Edit")," ",i.a.createElement("button",{onClick:function(){return e.confirmDelete(e.state.post._id)},className:"btn btn-outline-danger"},"Delete")):" ")),i.a.createElement(c.Suspense,{fallback:i.a.createElement("div",{className:"spinner-container"},i.a.createElement("div",{className:"spinner-border",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")))},i.a.createElement(p,{post:this.state.post}))))}}]),n}(c.Component);t.default=h}}]);
//# sourceMappingURL=7.ee96aca5.chunk.js.map