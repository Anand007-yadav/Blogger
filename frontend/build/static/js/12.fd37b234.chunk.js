(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[12],{152:function(e,t,a){"use strict";a.r(t);var n=a(66),o=a(13),s=a(14),i=a(9),r=a(15),l=a(16),c=a(0),d=a.n(c),u=a(37),m=a.n(u),h=a(67),b=a.n(h),p=a(73),E=a.n(p),g=a(75),v=a.n(g),y=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GOOGLE_CLIENT_ID:"793997026296-b8g4unrahikivqkm28et683u0vusmcea.apps.googleusercontent.com",REACT_APP_TWITTER_CONSUMER_ID:"rUWTD0DaH3IbZRJyCN4j4xPsH",REACT_APP_TWITTER_CONSUMER_SECRET:"4TQ0mMytPmTiW6UwYHLuWCu7v4t2E2rs80VZSJnJM2cYWuzbSw"}).REACT_APP_BASEURL||"http://localhost:5000",C=function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={title:"",body:"",author:"",date:"",isLoggedIn:!1},n.handleChange=n.handleChange.bind(Object(i.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(i.a)(n)),n.handleEditorChange=n.handleEditorChange.bind(Object(i.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get("".concat(y,"/server/posts/").concat(this.props.match.params.id)).then((function(t){e.setState({title:t.data.title,body:t.data.body,author:t.data.author,date:t.data.date,comments:t.data.comments})})).catch((function(e){return console.error(e)})),"true"===sessionStorage.getItem("isLoggedIn")&&this.setState({isLoggedIn:!0})}},{key:"handleEditorChange",value:function(e,t){this.setState({body:t.getData()})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.setState(Object(n.a)({},a,o))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),document.querySelector(".spinner-container").style.display="flexbox";var a=v()(this.state.body);this.setState({body:a});var n={title:this.state.title,author:this.state.author,body:this.state.body,date:this.state.date,comments:this.state.comments};m.a.post("".concat(y,"/server/posts/edit/").concat(this.props.match.params.id),n).then((function(e){return window.location="/posts/".concat(t.props.match.params.id)})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){return this.state.isLoggedIn?d.a.createElement("div",null,d.a.createElement("div",{className:"spinner-container",style:{display:"none"}},d.a.createElement("div",{className:"spinner-border",role:"status"},d.a.createElement("span",{className:"sr-only"},"Loading..."))),d.a.createElement("div",{className:"edit-post"},d.a.createElement("h1",null,"Edit Blog Post",d.a.createElement("span",{className:"full-stop"},".")),d.a.createElement("form",{onSubmit:this.handleSubmit},d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{className:"edit-title"},"Title: "),d.a.createElement("input",{className:"form-control edit-title",type:"text",name:"title",value:this.state.title,onChange:this.handleChange,required:!0})),d.a.createElement("div",null,d.a.createElement(b.a,{editor:E.a,data:this.state.body,onChange:this.handleEditorChange,config:{toolbar:["Heading","|","Bold","Italic","Link","NumberedList","BulletedList","|","BlockQuote","MediaEmbed","Undo","Redo"]}})),d.a.createElement("br",null),d.a.createElement("div",{className:"form-group"},d.a.createElement("input",{type:"submit",value:"Submit Post",className:"btn btn-outline-primary btn-lg"}))))):d.a.createElement("div",{className:"alert alert-warning",role:"alert",onClick:function(){return window.location="/login"}},"You need to login to edit your post!",d.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},d.a.createElement("span",{"aria-hidden":"true",className:"alert-close"},"\xd7"," ")))}}]),a}(c.Component);t.default=C}}]);
//# sourceMappingURL=12.fd37b234.chunk.js.map