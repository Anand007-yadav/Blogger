(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{139:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(33),l=a.n(s),r=a(10),i=a(15),c=(a(69),a(6)),m=a(7),u=a(8),d=a(9),h=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={isLoggedIn:!1},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){"true"===sessionStorage.getItem("isLoggedIn")&&this.setState((function(e){if(!e.isLoggedIn)return{isLoggedIn:!0}})),"false"===sessionStorage.getItem("isLoggedIn")&&this.setState((function(e){if(e.isLoggedIn)return{isLoggedIn:!1}}))}},{key:"render",value:function(){return o.a.createElement("nav",{className:"navbar navbar-custom navbar-expand-lg"},o.a.createElement(r.b,{to:"/",className:"navbar-brand"},o.a.createElement("i",{className:"fas fa-pen-alt"})," Blog",o.a.createElement("span",{className:"full-stop"},"."),"It"),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo01","aria-controls":"navbarTogglerDemo01","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",null,o.a.createElement("i",{className:"fa fa-bars"}))),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo01"},o.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"},o.a.createElement("li",{className:"navbar-item"},o.a.createElement(r.b,{to:"/about",className:"nav-link"},"About")),o.a.createElement("li",{className:"navbar-item"},o.a.createElement(r.b,{to:"/posts",className:"nav-link"},"Posts")),o.a.createElement("li",{className:"navbar-item"},o.a.createElement(r.b,{to:"/posts/create",className:"nav-link"},"New Post")),this.state.isLoggedIn?o.a.createElement("li",{className:"navbar-item"},o.a.createElement(r.b,{to:"/logout",className:"nav-link",onClick:function(){window.sessionStorage.removeItem("isLoggedIn"),window.sessionStorage.removeItem("username"),window.location="/posts"}},"Logout")):o.a.createElement("li",{className:"navbar-item"},o.a.createElement(r.b,{to:"/login",className:"nav-link"},"Login")))))}}]),a}(n.Component),p=function(){return o.a.createElement("div",{className:"jumbotron"},o.a.createElement("h1",{className:"display-4"},"Just Blog It",o.a.createElement("span",{className:"full-stop"},".")),o.a.createElement("p",{className:"lead"},"This is a blogging platform for all your blogging needs!",o.a.createElement("br",null),"Want to read some awesome blogs? We've got you covered!",o.a.createElement("br",null)," Want to write an awesome blog post?",o.a.createElement("br",null)," Rest assured, because we've got you covered once again!"),o.a.createElement("hr",{className:"my-4 gold-hr"}),o.a.createElement("p",null,"So, click below and dive right in!"),o.a.createElement(r.b,{className:"btn btn-outline-primary btn-lg",to:"/posts",role:"button"},"Show Blog Posts"))},g=a(4),b=a(5),f=a.n(b),E=a(60),v=(a(90),function(e){return o.a.createElement("div",{className:"comment"},o.a.createElement("p",null,o.a.createElement("span",null,o.a.createElement("img",{src:"https://avatars.dicebear.com/v2/jdenticon/:"+e.img+".svg",alt:"jdenticon"})),o.a.createElement("span",{className:"comment-body"},e.comment)))}),y=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={body:"",imgs:[],comments:[],noOfComments:5},n.handleSubmit=n.handleSubmit.bind(Object(g.a)(n)),n.handleChange=n.handleChange.bind(Object(g.a)(n)),n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.post!==e.post&&this.setState({comments:this.props.post.comments})}},{key:"handleChange",value:function(e){var t=e.target.value;this.setState({body:t})}},{key:"handleSubmit",value:function(e){var t=this.state.body;this.setState({comments:this.state.comments.unshift(t)});var a=this.props.post;a.comments=this.state.comments,f.a.post("http://localhost:5000/posts/edit/"+this.props.post._id,a).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=0;return o.a.createElement("div",{className:"comment-list"},o.a.createElement("hr",null),o.a.createElement("h5",{className:"comment-heading"},"Latest Comments",o.a.createElement("span",{className:"full-stop"},".")),o.a.createElement("br",null),o.a.createElement("div",null,this.state.comments.length?o.a.createElement("div",null,this.state.comments.slice(0,this.state.noOfComments).map((function(e){return o.a.createElement(v,{comment:e,key:t++,img:t+"dkjaslc"})}))):o.a.createElement("h4",{id:"first-comment"},"Be the first person to comment on this post",o.a.createElement("span",{className:"full-stop"},".")),this.state.comments[this.state.noOfComments]?o.a.createElement("button",{className:"btn btn-link",onClick:function(){return e.setState((function(e){return{noOfComments:e.noOfComments+5}}))}},"Load More Comments..."):" "),o.a.createElement("div",{className:"comment-form"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{className:"form-control",type:"text",onChange:this.handleChange,placeholder:"Start typing your comment...",value:this.state.body})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"submit",className:"btn btn-outline-success",value:"comment"})))))}}]),a}(n.Component),N=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={post:{},isLoggedIn:!1},n.deletePost=n.deletePost.bind(Object(g.a)(n)),n.confirmDelete=n.confirmDelete.bind(Object(g.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.post||f.a.get("http://localhost:5000/posts/"+this.props.match.params.id).then((function(t){e.setState({post:t.data})})).catch((function(e){return console.error(e)}))}},{key:"componentDidUpdate",value:function(){"true"===sessionStorage.getItem("isLoggedIn")&&this.state.post.author===sessionStorage.getItem("username")&&this.setState((function(e){if(!e.isLoggedIn)return{isLoggedIn:!0}}))}},{key:"confirmDelete",value:function(e){var t=this;Object(E.confirmAlert)({title:"Confirm to delete this post.",message:"Are you sure you want to do this?",buttons:[{label:"YES",onClick:function(){return t.deletePost(e)}},{label:"NO  ",onClick:function(){return console.log("NO")}}]})}},{key:"deletePost",value:function(e){f.a.delete("http://localhost:5000/posts/"+e).then((function(e){return console.log(e.data)})).catch((function(e){return console.error(e)})),window.location="/posts"}},{key:"render",value:function(){var e=this;return this.props.post?o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement(r.b,{to:"/posts/show/"+this.props.post._id},o.a.createElement("h1",{className:"post-title"},this.props.post.title),o.a.createElement("h5",null,o.a.createElement("span",{className:"author"},this.props.post.author)),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.post.body.substring(0,400).trim()+"..."}}),o.a.createElement("small",null,o.a.createElement("time",null,o.a.createElement("span",null,"Published on "),this.props.post.date.substring(8,10)+"/"+this.props.post.date.substring(5,7)+"/"+this.props.post.date.substring(0,4))),o.a.createElement("br",null)))):o.a.createElement("div",{className:"post"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h1",{className:"post-title"},this.state.post.title),o.a.createElement("h3",{className:"author"},this.state.post.author),o.a.createElement("time",null,o.a.createElement("span",null,"Published on "),this.state.post.date?this.state.post.date.substring(8,10)+"/"+this.state.post.date.substring(5,7)+"/"+this.state.post.date.substring(0,4):" "),o.a.createElement("div",{className:"post-body",dangerouslySetInnerHTML:{__html:this.state.post.body}}),this.state.isLoggedIn?o.a.createElement("span",null,o.a.createElement(r.b,{to:"/posts/edit/"+this.state.post._id,className:"btn btn-outline-primary"},"Edit")," ",o.a.createElement("button",{onClick:function(){return e.confirmDelete(e.state.post._id)},className:"btn btn-outline-danger"},"Delete")):" ")),o.a.createElement(y,{post:this.state.post}))}}]),a}(n.Component),w=a(23),k=a(24),S=a.n(k),C=a(25),I=a.n(C),j=a(26),O=a.n(j),L=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={title:"",body:"",author:"",date:new Date,isLoggedIn:!1},n.handleChange=n.handleChange.bind(Object(g.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(g.a)(n)),n.handleEditorChange=n.handleEditorChange.bind(Object(g.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){"true"===sessionStorage.getItem("isLoggedIn")&&this.setState({author:sessionStorage.getItem("username"),isLoggedIn:!0})}},{key:"handleEditorChange",value:function(e,t){var a=t.getData();this.setState({body:a})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(w.a)({},a,n))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({date:new Date});var t=O()(this.state.body.trim());this.setState({body:t});var a={title:this.state.title,author:this.state.author,body:this.state.body,date:this.state.date};f.a.post("http://localhost:5000/posts/create/",a).then((function(e){return window.location="/posts"})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return this.state.isLoggedIn?o.a.createElement("div",{className:"new-post"},o.a.createElement("h1",null,"Create New Blog Post",o.a.createElement("span",{className:"full-stop"},".")),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"new-title"},"Title: "),o.a.createElement("input",{className:"form-control new-title",type:"text",name:"title",value:this.state.title,onChange:this.handleChange,required:!0,placeholder:"The Best Title"})),o.a.createElement("div",null,o.a.createElement(S.a,{editor:I.a,onChange:this.handleEditorChange,config:{toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","blockquote","undo","redo"],placeholder:"Start typing your blog post here..."}})),o.a.createElement("br",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"submit",value:"Create Post",className:"btn btn-outline-primary btn-lg"})))):o.a.createElement("div",{className:"alert alert-warning",role:"alert",onClick:function(){return window.location="/login"}},"You need to login to create a new post!",o.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true",className:"alert-close"},"\xd7"," ")))}}]),a}(n.Component),D=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={title:"",body:"",author:"",date:"",isLoggedIn:!1},n.handleChange=n.handleChange.bind(Object(g.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(g.a)(n)),n.handleEditorChange=n.handleEditorChange.bind(Object(g.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:5000/posts/"+this.props.match.params.id).then((function(t){e.setState({title:t.data.title,body:t.data.body,author:t.data.author,date:t.data.date,comments:t.data.comments})})).catch((function(e){return console.error(e)}))}},{key:"handleEditorChange",value:function(e,t){this.setState({body:t.getData()})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(w.a)({},a,n))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=O()(this.state.body);this.setState({body:a});var n={title:this.state.title,author:this.state.author,body:this.state.body,date:this.state.date,comments:this.state.comments};f.a.post("http://localhost:5000/posts/edit/"+this.props.match.params.id,n).then((function(e){return window.location="/posts/show/"+t.props.match.params.id})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"edit-post"},o.a.createElement("h1",null,"Edit Blog Post",o.a.createElement("span",{className:"full-stop"},".")),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"edit-title"},"Title: "),o.a.createElement("input",{className:"form-control edit-title",type:"text",name:"title",value:this.state.title,onChange:this.handleChange,required:!0})),o.a.createElement("div",null,o.a.createElement(S.a,{editor:I.a,data:this.state.body,onChange:this.handleEditorChange,config:{toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","blockquote","undo","redo"]}})),o.a.createElement("br",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"submit",value:"Submit Post",className:"btn btn-outline-primary btn-lg"}))))}}]),a}(n.Component),P=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={posts:[],noOfPosts:5},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:5000/posts/").then((function(t){e.setState({posts:t.data.reverse()})})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"posts-list"},o.a.createElement("h1",{id:"title"},"Latest Posts",o.a.createElement("span",{className:"full-stop"},".")),this.state.posts.slice(0,this.state.noOfPosts).map((function(e){return o.a.createElement(N,{post:e,key:e._id})})),this.state.posts[this.state.noOfPosts]?o.a.createElement("button",{className:"btn btn-link",onClick:function(){return e.setState({noOfPosts:e.state.noOfPosts+3})}},"Load More Posts..."):o.a.createElement("p",null," "))}}]),a}(n.Component),_=a(61),T=a.n(_),M=a(62),x=a.n(M),B=a(63),W=a.n(B);T.a.config();var A=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).twitterAuthHandler=function(e,t){if(e)window.location="/login";else{var a={username:t.screen_name,socialId:t.user_id};f.a.post("http://localhost:5000/auth/login",a).then((function(e){if(e.data.socialId){sessionStorage.setItem("isLoggedIn","true"),sessionStorage.setItem("username",e.data.username),window.setTimeout((function(){sessionStorage.removeItem("isLoggedIn"),sessionStorage.removeItem("username")}),5184e3)}else window.location="/login"})).catch((function(e){return console.error(e)}))}},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){"true"===sessionStorage.getItem("isLoggedIn")&&window.history.back()}},{key:"successGoogleLogin",value:function(e){var t={username:e.profileObj.name,socialId:e.googleId};f.a.post("http://localhost:5000/auth/login",t).then((function(t){var a=0;t.data.socialId===e.googleId?(sessionStorage.setItem("isLoggedIn","true"),sessionStorage.setItem("username",t.data.username),a++,window.setTimeout((function(){sessionStorage.removeItem("isLoggedIn"),sessionStorage.removeItem("username")}),5184e3),1===a&&window.location.reload()):window.location="/login"})).catch((function(e){return console.error(e)}))}},{key:"failureGoogleLogin",value:function(e){console.log(e),window.location="/login"}},{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"login"},o.a.createElement("h5",null,"Login with your social account",o.a.createElement("span",{className:"full-stop"},".")),o.a.createElement("hr",{className:"gold-hr"}),o.a.createElement("div",{className:"google"},o.a.createElement(x.a,{clientId:"793997026296-b8g4unrahikivqkm28et683u0vusmcea.apps.googleusercontent.com",buttonText:"Log in With Google",onSuccess:this.successGoogleLogin,onFailure:this.failureGoogleLogin,cookiePolicy:"single_host_origin",scope:"profile"})),o.a.createElement("br",null),o.a.createElement("div",{className:"twitter"},o.a.createElement(W.a,{authCallback:this.twitterAuthHandler,consumerKey:"rUWTD0DaH3IbZRJyCN4j4xPsH",consumerSecret:"4TQ0mMytPmTiW6UwYHLuWCu7v4t2E2rs80VZSJnJM2cYWuzbSw",callbackUrl:"http://localhost:3000/login",buttonTheme:"light"}))))}}]),a}(o.a.Component),H=function(){return o.a.createElement("div",{className:"about"},o.a.createElement("h1",null,"About",o.a.createElement("span",{className:"full-stop"},".")),o.a.createElement("main",null,o.a.createElement("p",null,"This is a Blogging app that lets a user delve into a topic of choice and write a blog post, or read one of the already uploaded Blog posts."),o.a.createElement("p",null,"In order to write your very own Blog post, you can conviniently login using one of your social accounts, and start penning your thoughts!"),o.a.createElement("p",null,"You can edit your Blog post at any time, as long as you're logged in. If you ever feel like your post is no longer a valid representation of your thoughts, you can also delete it at any instant of time."),o.a.createElement("p",null,"You can also provide your opinions about any post, in the comments' section of every post, anonymously!",o.a.createElement("br",null),"Your comment will always have a unique icon accompanying it."),o.a.createElement("hr",{className:"gold-hr"}),o.a.createElement("p",null,'If you ever feel the need to provide criticism or drop a suggestion, or if you just want to say "Nice job", feel free to contact me using the links in the footer',o.a.createElement("span",{className:"full-stop"},"."))))},Y=function(){return o.a.createElement("footer",null,"Created by ",o.a.createElement("span",{id:"rajat"},"Rajat"),o.a.createElement("br",null),o.a.createElement("span",null,o.a.createElement("i",{className:"fab fa-github",onClick:function(){return window.open("https://github.com/Rajatm544","_blank")}})," ",o.a.createElement("i",{className:"fab fa-hackerrank",onClick:function(){return window.open("https://www.hackerrank.com/Rajat_M","_blank")}})," ",o.a.createElement("i",{className:"fab fa-linkedin",onClick:function(){return window.open("https://www.linkedin.com/in/rajat--m","_blank")}})," ",o.a.createElement("i",{className:"fab fa-stack-overflow",onClick:function(){return window.open("https://stackoverflow.com/users/13040278/rajat-m","_blank")}})," ",o.a.createElement("i",{className:"fab fa-twitter",onClick:function(){return window.open("https://twitter.com/Rajat__m","_blank")}})))},q=function(){return o.a.createElement("div",{className:"container"},o.a.createElement(r.a,null,o.a.createElement(h,null),o.a.createElement(i.a,{path:"/",exact:!0,component:p}),o.a.createElement(i.a,{path:"/posts",exact:!0,component:P}),o.a.createElement(i.a,{path:"/posts/edit/:id",component:D}),o.a.createElement(i.a,{path:"/posts/show/:id",component:N}),o.a.createElement(i.a,{path:"/posts/create/",component:L}),o.a.createElement(i.a,{path:"/login",exact:!0,component:A}),o.a.createElement(i.a,{path:"/about",exact:!0,component:H}),o.a.createElement(Y,null)))};l.a.render(o.a.createElement(q,null),document.getElementById("root"))},64:function(e,t,a){e.exports=a(139)},69:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.404837e9.chunk.js.map